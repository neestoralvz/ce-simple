# /actions:claude-init - CLAUDE.md & /core Command Generator

**LOAD:** /modules:context_templates + /core

You are the CLAUDE.md initialization command. Your job is to create a customized CLAUDE.md file based on the ce-simple template and implement the /core slash command functionality for any project.

## Core Function

Generate a complete CLAUDE.md dispatcher file with integrated /core slash command that adapts to the target project's context and requirements.

## Generation Process

### Phase 1: Project Analysis
1. **DETECTA contexto proyecto**: README.md, directorio structure, existing .claude/ setup
2. **EXTRAE informaci√≥n clave**: Project name, purpose, architecture type
3. **IDENTIFICA dominios**: Technical domains and semantic patterns for conditional loading
4. **EVAL√öA complejidad**: Project complexity level for appropriate template selection

### Phase 2: CLAUDE.md Template Generation

Generate complete CLAUDE.md with project-specific adaptations:

```markdown
---
warning: "‚ö†Ô∏è LEER OBLIGATORIAMENTE ANTES DE CUALQUIER ACCI√ìN"
critical_instruction: "Este archivo DEBE ser le√≠do completamente antes de cumplir con cualquier solicitud del usuario. INMEDIATAMENTE despu√©s se DEBE ejecutar /core como protocolo OBLIGATORIO para TODA acci√≥n. Las instrucciones operacionales son obligatorias y deben seguirse en el orden establecido SIN EXCEPCI√ìN."
universal_protocol: "PROTOCOLO UNIVERSAL SIN EXCEPCI√ìN: CLAUDE.md ‚Üí /core ‚Üí acci√≥n solicitada. NUNCA saltar /core."
---

# CLAUDE.md - [PROJECT_NAME] Dispatcher

**[TIMESTAMP]** | Pure dispatcher con conditional loading y reference architecture

## INSTRUCCI√ìN OPERACIONAL OBLIGATORIA UNIVERSAL

‚ö†Ô∏è **CUMPLIMIENTO OBLIGATORIO**: Toda acci√≥n debe seguir este protocolo SIN EXCEPCI√ìN

**PROTOCOLO CORE**: /core OBLIGATORIO ‚Üí [PROJECT_ORCHESTRATION_PATH] ‚Üí Hybrid orchestration authority
**METHODOLOGY AUTHORITY**: [PROJECT_METHODOLOGY_PATH] ‚Üí L4-Pure Orchestration + Think x4 + Research-First
**COMANDO CORE ENFORCEMENT**: TODA acci√≥n inicia OBLIGATORIAMENTE con /core SIEMPRE
**AUTHORITY VALIDATION**: [PROJECT_TRUTH_SOURCE_PATH] ‚Üí Context architecture dispatcher

## PROTOCOLO UNIVERSAL DE INICIO OBLIGATORIO

‚ö†Ô∏è **EJECUCI√ìN AUTOM√ÅTICA OBLIGATORIA**: Todo inicio de acci√≥n DEBE seguir este protocolo SIN EXCEPCI√ìN

### /core - SLASH COMMAND OBLIGATORIO UNIVERSAL
**DEFINICI√ìN**: Protocolo completo de orquestaci√≥n inteligente con 29 pasos sistem√°ticos ejecutado como slash command

**CONTENIDO DEL COMANDO**:
- üå≥ Workspace conversacional resiliente con git worktrees
- ü™ù Automation layer integration con Claude Code hooks  
- üìã Protocolo h√≠brido de orquestaci√≥n inteligente
- üîÑ Matriz de decisi√≥n inteligente embedded
- ‚ö° Coordinaci√≥n de subagentes especializados
- üìñ **READ-BEFORE-EDIT OBLIGATORIO**: SIEMPRE Read tool antes de Edit/Write/MultiEdit operations
- üîç **FILE LOCATION VALIDATION**: Verificar ubicaci√≥n exacta antes de operaciones de archivo
- üîó **REFERENCE PATTERN STANDARDIZATION**: OBLIGATORIO @context/ prefix para ALL file references
- üèÅ Finalizaci√≥n conversacional completa

**ENFORCEMENT ABSOLUTO**: NUNCA proceder sin ejecutar /core completo. NUNCA saltar pasos. SIEMPRE protocolo de 29 pasos.

## AUTORIDAD SUPREMA
[PROJECT_VISION_PATH] ‚Üí supreme user authority ‚Üí [PROJECT_TRUTH_SOURCE_PATH] ‚Üí CLAUDE.md implements vision through intelligent dispatch

## PROJECT CONTEXT
**Overview**: README.md - [PROJECT_DESCRIPTION]
**System Purpose**: [PROJECT_PURPOSE]

## CONTEXTO CORE SIEMPRE CARGADO
[PROJECT_VISION_PATH]
[PROJECT_TRUTH_SOURCE_PATH]
[PROJECT_METHODOLOGY_PATH]
[PROJECT_AUTHORITY_PATH]
[PROJECT_SIMPLICITY_PATH]

## SEMANTIC TRIGGERS ‚Üí CONDITIONAL CONTEXT LOADING

[GENERATED_SEMANTIC_PATTERNS]

## UNIVERSAL CONTEXT REFERENCES

**Cross-reference system**: [PROJECT_REFERENCE_PATH]
**Integration pathways**: [PROJECT_UX_PATH]
**Reference templates**: [PROJECT_TEMPLATES_PATH]
**README navigation**: [PROJECT_README_PATH]

---

**PRINCIPIO ESENCIAL MANDATORIO SIN EXCEPCI√ìN**: 
1. **EJECUTA /core OBLIGATORIO** como PRIMER paso absoluto SIEMPRE
2. **READ-BEFORE-EDIT ENFORCEMENT**: OBLIGATORIO Read tool antes de ANY Edit/Write/MultiEdit operation
3. **FILE LOCATION VERIFICATION**: OBLIGATORIO validar ubicaci√≥n exacta antes de operaciones archivo
4. **REFERENCE STANDARDIZATION**: OBLIGATORIO @context/ prefix para todas las referencias de archivo
5. **CONTRADICTION DETECTION**: OBLIGATORIO consultar usuario cuando detecte contradicciones con CLAUDE.md
6. **EJECUTA Semantic recognition** + LOAD conditional context OBLIGATORIO
7. **APLICA methodology authority** + VALIDATE systematic OBLIGATORIO  
8. **LOGRA Maximum completitud** con zero friction OBLIGATORIO

**ENFORCEMENT ABSOLUTO**: NUNCA bypass /core. NUNCA shortcuts. NUNCA Edit sin Read previo. NUNCA references sin @context/ prefix. SIEMPRE protocolo completo.
```

### Phase 3: /core Command Integration

Embed the complete /core command content within the CLAUDE.md as:

1. **29-Step Protocol Inclusion**: Full core.md content embedded in CLAUDE.md
2. **Project-Specific Paths**: Adapt all paths to target project structure
3. **Context Loading Logic**: Customize semantic patterns for project domain
4. **Validation Framework**: Project-specific validation criteria

### Phase 4: Semantic Pattern Generation

Auto-generate semantic patterns based on project analysis:

```markdown
### IF semantic_pattern=[PROJECT_SPECIFIC_PATTERN]:
**LOAD**: [PROJECT_SPECIFIC_CONTEXT_FILES]
**EXECUTE**: [PROJECT_SPECIFIC_TEMPLATE] per [PROJECT_AUTHORITY]
**VALIDATE**: [PROJECT_SPECIFIC_VALIDATION] ‚Üí [VALIDATION_LEVEL]
```

Common patterns to detect and generate:
- **development_implementation**: For technical projects
- **content_management**: For documentation/content projects  
- **workflow_automation**: For process/automation projects
- **architecture_system**: For system design projects
- **research_analysis**: For research/analysis projects

### Phase 5: Path Customization

Customize all @context/ references to match target project:

- **Existing Context Structure**: Use discovered paths
- **Missing Context Structure**: Generate minimal required structure
- **Hybrid Approach**: Combine existing + missing with clear fallbacks

### Phase 6: Validation & Integration

1. **VALIDA sintaxis** markdown y referencia integrity
2. **VERIFICA path resolution** para todos los @context/ references  
3. **CONFIRMA /core integration** funciona correctamente
4. **TESTEA semantic pattern** loading behavior
5. **DOCUMENTA customizations** aplicadas al proyecto

## Command Usage

### Basic Generation
```bash
claude /actions:claude-init
```

### With Project Path
```bash  
claude /actions:claude-init --project-path=/path/to/project
```

### With Custom Template
```bash
claude /actions:claude-init --template=minimal|standard|advanced
```

## Template Variants

### Minimal Template
- Core CLAUDE.md structure only
- Basic /core integration  
- Essential semantic patterns
- Minimal context dependencies

### Standard Template (Default)
- Complete ce-simple based structure
- Full /core 29-step protocol
- Comprehensive semantic patterns
- Standard @context/ architecture

### Advanced Template
- Extended semantic pattern library
- Advanced orchestration features
- Full automation integration
- Complex project architecture support

## Success Criteria

1. **‚úÖ CLAUDE.md Generated**: Complete dispatcher file created
2. **‚úÖ /core Integrated**: Full 29-step protocol embedded and functional  
3. **‚úÖ Paths Customized**: All @context/ references resolve correctly
4. **‚úÖ Semantic Patterns**: Project-appropriate conditional loading implemented
5. **‚úÖ Validation Passed**: File syntax and integration validated
6. **‚úÖ Documentation Complete**: Generation log and customization notes provided

## Integration Notes

- **Global Command Compatibility**: Generated CLAUDE.md works with existing global commands
- **Project Context Awareness**: Automatically adapts to local project structure
- **Evolution Capability**: Generated file supports organic project evolution
- **Authority Preservation**: Maintains user authority supremacy principles

**Core Function**: Seamless CLAUDE.md generation + /core implementation for any project context