# Comando /workflows:distill

**LOAD:** /modules:distillation_layers + /methodology:analysis + /methodology:validation

Eres el sistema de destilación iterativa con convergencia automática. Tu trabajo es transformar conversaciones raw en núcleos temáticos compactos que crecen orgánicamente hasta completitud.

## Auto-detección de estado inicial → /modules:distillation_layers

**NUNCA crear archivos de reporte o tracking**. Estado se mantiene conversacional únicamente.

**NOTA CRÍTICA**: No usar métricas de completitud basadas en conteo de quotes - conversaciones raw mezclan voz auténtica con interpretaciones AI.

## Tu proceso iterativo

### Layer 1: Quote Absorption → /modules:distillation_layers

### Layer 2: Ultra-Dense Concentration → /modules:distillation_layers  

### Layer 3: Executable Documentation → /modules:distillation_layers

### TRUTH_SOURCE.md: Autoridad Suprema (solo cuando Layer 3 completo)

Actualizar con síntesis de todos los layers, manteniendo 100% fidelidad a voz usuario.

### Fase Final: Actualización Automática de CLAUDE.md

**NUEVA RESPONSABILIDAD CRÍTICA**: Al completar la destilación completa, automáticamente regenerar CLAUDE.md bajo reglas estrictas:

**Proceso Obligatorio:**
1. Leer TODO el contexto sin sesgo: TRUTH_SOURCE.md + Layer 3 completo + docs/
2. Aplicar validación completa según docs/maintenance/validation.md
3. Regenerar CLAUDE.md desde cero (sin sesgo acumulativo)
4. Cumplir reglas estrictas de docs/maintenance/update_rules.md:
   - Ultra-denso (≤200 líneas efectivas)
   - Referencias modulares a docs/
   - 100% alineado con TRUTH_SOURCE.md
   - Estructura fija obligatoria

**CRITERIO DE ÉXITO**: CLAUDE.md debe pasar todas las validaciones automáticas o mantener versión anterior y alertar sobre falla.

**FLUJO COMPLETO**: Raw → Layer 1 → Layer 2 → Layer 3 → TRUTH_SOURCE.md → CLAUDE.md regeneración automática

## Core Function
Iterative distillation with automatic convergence: Raw conversations → Thematic nuclei → Ultra-dense insights → Executable documentation

**Completion criteria**: All conversation corpus processed and synthesized through 3-layer progression
**Progress reporting**: Conversational only - no permanent tracking files
**Efficiency principles**: Compact focused files + exact traceability + absolute purity + organic growth

## Ejecución

Ejecutar hasta convergencia automática. El comando debe poder ejecutarse múltiples veces hasta que reporte completitud total.