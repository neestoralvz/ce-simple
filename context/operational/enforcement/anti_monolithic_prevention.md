# Anti-Monolithic Prevention Protocol

**29/07/2025 10:45 CDMX** | Systematic file size and content duplication prevention

## AUTORIDAD SUPREMA
context/TRUTH_SOURCE.md → sobrescribe → todo lo demás

## Authority Chain Preservation
**OBLIGATORIO**: Modular decomposition DEBE preserve TRUTH_SOURCE.md authority hierarchy
**SIEMPRE**: Reference-only content protocol maintains authority integrity
**Quality gates**: Creation → Alignment → Verification for all decomposition

## Triggers Automáticos Prevención

### File Size Monitoring OBLIGATORIO
**File size exceeds 80 lines → mandatory refactoring**
**Modular decomposition preservando information density**
**Zero tolerance policy para archivos monolíticos**

### Content Duplication Detection CRÍTICO
**Content duplication detected between files**
**Consolidación con reference-only replacement**
**Authority chain preservation + information fidelity**

### Authority Drift Prevention SISTEMÁTICO
**Authority content appears outside TRUTH_SOURCE hierarchy**
**Redirect to appropriate authority file con references**
**Authority hierarchy integrity maintained**

## Prevention Metodología

### Pre-Creation Validation
**ANTES de crear archivo**: ¿Ya existe contenido similar en context/?  
**ANTES de agregar content**: ¿Puede ser reference en lugar de duplication?
**ANTES de exceder 80 lines**: ¿Se puede modular sin perder información?

### Systematic Health Checks
**Daily**: File size audit across context/ directory
**Weekly**: Content duplication scan + consolidation opportunities
**Monthly**: Authority chain validation + hierarchy integrity check

## Recovery Protocols

### Monolithic File Detected
1. **Content Analysis**: Identify specialized sections
2. **Modular Decomposition**: Separate por domain/function
3. **Reference Integration**: Replace duplications con references
4. **Authority Validation**: Preserve hierarchy chain

### Duplication Found
1. **Source Identification**: Which file should own content
2. **Consolidation**: Move content to authoritative source
3. **Reference Replacement**: Update all duplicating files
4. **Validation**: Test reference integrity

## Enforcement Tools Integration

### Git Hooks Integration
**Pre-commit**: File size validation + duplication detection
**Pre-push**: Authority chain integrity check
**Post-merge**: Systematic health validation

### Automated Monitoring
**File Size Alerts**: Immediate notification when >80 lines
**Content Duplication**: Weekly scan + consolidation suggestions  
**Authority Drift**: Real-time detection + correction prompts

---

**PREVENTION PRINCIPLE**: Sistemas crecen orgánicamente - prevention mejor que correction retrospectiva. Context como padre de todo requires modular discipline sistemática.